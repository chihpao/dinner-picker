<template>
  <div>
    <AppHeader title="é£Ÿç‰©ç´€éŒ„" :is-expenses="true">
      <template #actions>
        <button 
          class="btn btn-sm" 
          @click="showSummary = !showSummary" 
          type="button"
          :class="{ primary: showSummary }"
        >
          ğŸ“Š çµ±è¨ˆ
        </button>
        <NuxtLink to="/expense-entry?from=/expenses" class="btn btn-sm primary">ğŸ± æ–°å¢</NuxtLink>
      </template>
      <template #bottom>
        <ExpenseSummary ledger="food" :is-open="showSummary" />
      </template>
    </AppHeader>

    <main class="expense-main">
      <ExpenseList ledger="food" />
    </main>
  </div>
</template>

<script setup lang="ts">
const { user } = useAuth()
const { loadEntries } = useFoodExpenses()
const showSummary = ref(false)

watch(user, () => {
  loadEntries()
}, { immediate: true })

useHead({
  title: 'å­œä¿é£²é£Ÿç´€éŒ„ï½œä»Šæ™šåƒå“ªå®¶ï¼Ÿ',
})
</script>
