import{c as o,h as l}from"./D8w1TNDh.js";import{k as h}from"./lYf44GPV.js";const v=()=>{const n=o("restaurants",()=>[]),e=o("profile",()=>null),r=o("restaurants-loading",()=>!0),c=async()=>{try{const[s,t]=await Promise.all([$fetch("/restaurants.json"),$fetch("/profile.json")]);n.value=s||[],e.value=t||null}catch(s){console.error("Failed to fetch data",s)}finally{r.value=!1}},i=h(()=>n.value.map(t=>{const a={};return e.value?.home&&(a.home=l(e.value.home.lat,e.value.home.lng,t.lat,t.lng)),e.value?.work&&(a.work=l(e.value.work.lat,e.value.work.lng,t.lat,t.lng)),{...t,distances:a}}).sort((t,a)=>{const u=t.distances?.home??t.distances?.work??1/0,f=a.distances?.home??a.distances?.work??1/0;return u-f}));return{restaurants:n,profile:e,isLoading:r,processedRestaurants:i,fetchRestaurants:c}};export{v as u};
