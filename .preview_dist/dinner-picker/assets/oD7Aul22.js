import{_ as f}from"./BF6IhyWh.js";import{_}from"./DPvAsCCj.js";import{e as v,j as x,l as k,u as A,c as w,b as u,a as t,g as y,s,v as i,f as a,x as V,w as N,o as U,d as g}from"./lYf44GPV.js";import{u as M,g as B}from"./D8w1TNDh.js";import{u as D}from"./DSc9tJYb.js";import{_ as T}from"./DlAUqK2U.js";const q={class:"page-container"},C={class:"expense-main"},H={class:"panel"},I={class:"form-actions"},S=v({__name:"add-account",setup($){const{user:l}=M(),{addAccount:d}=D(),m=x(),n=k({name:"",kind:"bank",balance:0}),p=async()=>{if(!l.value){alert("請先登入");return}if(n.name.trim()){if(n.balance<0){alert("請輸入正確的初始金額");return}try{await d({id:B(),name:n.name.trim(),kind:n.kind,balance:Math.round(n.balance),createdAt:Date.now(),user_id:l.value.id}),m.push("/total/accounts")}catch(r){console.error(r),alert("新增失敗，請稍後再試")}}};return A({title:"新增帳戶｜今晚吃哪家？",meta:[{name:"theme-color",content:"#1b1b1b"}]}),(r,e)=>{const c=f,b=_;return U(),w("div",q,[u(c,{title:"新增帳戶","is-expenses":!0,"back-to":"/total/accounts"}),t("main",C,[t("div",H,[t("form",{onSubmit:y(p,["prevent"]),class:"account-form"},[t("label",null,[e[3]||(e[3]=t("span",null,"帳戶名稱",-1)),s(t("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>a(n).name=o),type:"text",placeholder:"例如 台新銀行",required:""},null,512),[[i,a(n).name]])]),t("label",null,[e[5]||(e[5]=t("span",null,"類型",-1)),s(t("select",{"onUpdate:modelValue":e[1]||(e[1]=o=>a(n).kind=o)},[...e[4]||(e[4]=[t("option",{value:"bank"},"銀行",-1),t("option",{value:"card"},"信用卡",-1),t("option",{value:"cash"},"現金",-1)])],512),[[V,a(n).kind]])]),t("label",null,[e[6]||(e[6]=t("span",null,"初始金額 (NT$)",-1)),s(t("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>a(n).balance=o),type:"number",min:"0",step:"1",placeholder:"例如 10000",required:""},null,512),[[i,a(n).balance,void 0,{number:!0}]])]),t("div",I,[e[8]||(e[8]=t("button",{class:"btn primary",type:"submit"},"確認新增",-1)),u(b,{to:"/total/accounts",class:"btn"},{default:N(()=>[...e[7]||(e[7]=[g("取消",-1)])]),_:1})])],32)])])])}}}),G=T(S,[["__scopeId","data-v-7ac06c08"]]);export{G as default};
